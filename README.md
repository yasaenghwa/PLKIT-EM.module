# PLKIT-EM.module

# π…PLKIT-EM

**BLE ν†µμ‹ μ„ ν†µν• μ¤λ§νΈν λ¨λ“ν™”**

## λ©μ°¨

- ν”„λ΅μ νΈ μ§„ν–‰ κΈ°κ°„
- κ°μ”
- μ£Όμ” κΈ°λ¥
- EM νλ¦„λ„ 
- μ„λΉ„μ¤ ν™”λ©΄
- μ£Όμ” κΈ°μ 
- μ•„λ‘μ΄λ…Έ νλ΅λ„
- μ„Όμ„ λ° μ μ–΄


---

### π ν”„λ΅μ νΈ μ§„ν–‰ κΈ°κ°„

2024.05.10 ~ 2024.11.01

### β¨ κ°μ”

μ΄ ν”„λ΅μ νΈλ” BLE ν†µμ‹ μ„ ν™μ©ν•μ—¬ Wi-Fi λ° MQTT μ •λ³΄λ¥Ό λ¨λ“μ— μ „λ‹¬ν•κ³ , μ΄λ¥Ό ν†µν•΄ μ¤λ§νΈνμ λ¨λ“μ„ μ μ—°ν•κ² κµ¬μ„±ν•  μ μλ„λ΅ ν•λ” κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤. κ° λ¨λ“μ΄ λ…λ¦½μ μΌλ΅ Wi-Fiμ™€ MQTT λ„¤νΈμ›ν¬μ— μ—°κ²°λ  μ μμ–΄ μ μ§€λ³΄μμ™€ κ΄€λ¦¬κ°€ μ©μ΄ν•΄μ§€λ©°, μ‚¬μ©μ νΈμμ„±μ„ λ†’μ—¬μ¤λ‹λ‹¤.

### π’» μ£Όμ” κΈ°λ¥

- **BLE ν†µμ‹ μ„ ν†µν• μ •λ³΄ μ „μ†΅**: Wi-Fi λ° MQTT μ •λ³΄λ¥Ό BLEλ΅ μ „λ‹¬ν•μ—¬ μ¤λ§νΈν λ¨λ“ν™”λ¥Ό μ‹¤ν„.
- **LED, ν¬, νν„° μ μ–΄**: μ‚¬μ©μ μΈν„°νμ΄μ¤μ—μ„ LED, ν¬, νν„°λ¥Ό μ‹¤μ‹κ°„μΌλ΅ μ μ–΄ κ°€λ¥.
- **μ‹¤μ‹κ°„ μμ„ ν™•μΈ λ° μ΅°μ **: μ‚¬μ©μκ°€ μ¤λ§νΈν μμ„λ¥Ό μ‹¤μ‹κ°„μΌλ΅ ν™•μΈν•κ³  ν•„μ”μ— λ”°λΌ λ¨ν„°λ΅ μμ„λ¥Ό μ΅°μ ν•  μ μμµλ‹λ‹¤.
- **ESP32 μΉ΄λ©”λΌ λ¨λ‹ν„°λ§**: ESP32 μΉ΄λ©”λΌλ¥Ό ν†µν•΄ μ¤λ§νΈνμ„ μ‹¤μ‹κ°„μΌλ΅ λ¨λ‹ν„°λ§ν•μ—¬, μ¤λ§νΈν ν™κ²½μ„ μ§€μ†μ μΌλ΅ κ΄€μ°°ν•  μ μμµλ‹λ‹¤.
- **μλ™ μν™ κΈ°λ¥**: Node-RED μ μ–΄λ¥Ό ν†µν•΄ μ„¤μ •λ μΌμ • μ‹κ°„λ§λ‹¤ λ†μ¥μ λ¬Όμ„ μλ™μΌλ΅ μν™μ‹μΌ, μ‹λ¬Όμ— ν•„μ”ν• μλ¶„ κ³µκΈ‰μ„ μλ™ν™”ν•©λ‹λ‹¤.
- **λ¨λ“ν™” κΈ°λ¥**: λ§κ·Έλ„¤ν‹± μ¶©μ „κΈ°λ¥Ό ν†µν• μ†μ‰¬μ΄ λ¨λ“ νƒλ¶€μ°©μΌλ΅ μ μ—°ν• κµ¬μ„± κ°€λ¥.
### π“ EM νλ¦„λ„
```mermaid
flowchart TD
    A[μ‹μ¤ν… μ΄κΈ°ν™”]
    B[ESP32 κ²€μƒ‰ - μ„λΉ„μ¤ UUID λ§¤μΉ­]
    C[BLEλ΅ WiFi λ° MQTT μ •λ³΄ νλ“]
    E[BLE μ—°κ²° ν•΄μ  λ° κ΄‘κ³  μμ‹  μ¤‘λ‹¨]
    D[WiFi λ° MQTT μ„λ²„ μ—°κ²°]
    F[μ—°κ²° μƒνƒ ν™•μΈ]
    G{WiFi+MQTT μ—°κ²° μƒνƒ μ μ§€ μ—¬λ¶€}
    H[μ¬μ—°κ²° μ‹λ„]
    I[μ—°κ²° μƒνƒ μ μ§€ - ν† ν”½ κµ¬λ… λ° λ€κΈ°]
    J{μ μ–΄ λ‹¨μ—μ„ μ§€μ •ν• κ°’ μμ‹  μ—¬λ¶€}
    K[μ μ–΄ μν–‰]
    L[μ„Όμ„ λ°μ΄ν„° μ „μ†΅ - κµ¬λ…ν• ν† ν”½μΌλ΅ μ „μ†΅]

    A --> B
    B --> C
    C --> E
    E --> D
    D --> F
    F --> G
    G -- μ --> I
    G -- μ•„λ‹μ” --> H
    H --> F
    I --> L
    I --> J
    J -- μ --> K
    K --> I
```

### π–Ό κµ¬ν„ μ¥λ©΄

- **λ§κ·Έλ„¤ν‹± μ¶©μ „κΈ°λ¥Ό μ΄μ©ν• λ¨λ“ν™”**
    
    ![module.gif](image/module.gif)
    

- **LED λ° ν¬ μ μ–΄ ν™”λ©΄**
    
    ![led_fan.gif](image/led_fan.gif)
    

### π›  μ£Όμ” κΈ°μ 

- **Arduino IDE**: μ½”λ“ μ‘μ„± λ° μ „μ²΄μ μΈ νλ΅ μ„¤κ³„
- **Node-RED**: μ£ΌκΈ°μ μΈ μλ™ μν™ μ μ–΄
- **ESP32 μΉ΄λ©”λΌ**: μ¤λ§νΈν ν™κ²½μ„ μ‹¤μ‹κ°„μΌλ΅ λ¨λ‹ν„°λ§ν•λ” λ° μ‚¬μ©.

### π” μ•„λ‘μ΄λ…Έ νλ΅ κµ¬μ„±

### π“ μ„Όμ„ λ° μ μ–΄

## μ„Όμ„

### 1οΈβƒ£ μ΅°λ„ μΈ΅μ •

ν”„λ΅μ νΈμ—λ” CDS κ΄‘μ „μ§€(μ΅°λ„ μ„Όμ„)κ°€ ν¬ν•¨λμ–΄ μμ–΄ μ¤λ§νΈν ν™κ²½μ ν„μ¬ μ΅°λ„ μμ¤€μ„ μΈ΅μ •ν•©λ‹λ‹¤. μ΄ μ„Όμ„λ” μ΅°λ„λ¥Ό λ¨λ‹ν„°λ§ν•μ—¬ μ‹λ¬Ό μ„±μ¥μ— μµμ μ λΉ› μ΅°κ±΄μ„ μ μ§€ν•λ” λ° λ„μ›€μ„ μ¤λ‹λ‹¤.

![light.png](image/light.png)

### 2οΈβƒ£ μ¨λ„ λ° μµλ„ μΈ΅μ •

DHT22 μ¨μµλ„ μ„Όμ„λ¥Ό μ‚¬μ©ν•μ—¬ μ¤λ§νΈνμ ν™κ²½ μ΅°κ±΄μ„ λ¨λ‹ν„°λ§ν•©λ‹λ‹¤. μ΄ μ„Όμ„λ” μ¨λ„μ™€ μµλ„μ— λ€ν• μ‹¤μ‹κ°„ λ°μ΄ν„°λ¥Ό μ κ³µν•μ—¬ μ‹λ¬Ό κ±΄κ°•μ„ μ„ν• μ΄μƒμ μΈ ν™κ²½μ„ μ μ§€ν•λ” λ° λ„μ›€μ„ μ¤λ‹λ‹¤.

![temp.png](image/temp.png)

### 3οΈβƒ£ μμ¨ μΈ΅μ •

μμ¨ μ„Όμ„λ¥Ό μ‚¬μ©ν•μ—¬ μ¤λ§νΈνμ λ¬Ό μ¨λ„λ¥Ό μΈ΅μ •ν•©λ‹λ‹¤. μ΄λ” λ¬Όμ΄ μ‹λ¬Όμ—κ² μµμ μ μ΅°κ±΄μ„ μ κ³µν•  μ μλ„λ΅ λ„μ™€ μ‹λ¬Όμ κ±΄κ°•κ³Ό μ„±μ¥μ— κΈ°μ—¬ν•©λ‹λ‹¤.

![water_temp.png](image/water_temp.png)

### 4οΈβƒ£ TDS (μ΄ μ©μ΅΄ κ³ ν•λ¬Ό) μΈ΅μ •

TDS μ„Όμ„λ¥Ό μ‚¬μ©ν•μ—¬ λ¬Ό μ†μ μ©μ΅΄ κ³ ν•λ¬Ό λ†λ„λ¥Ό λ¨λ‹ν„°λ§ν•©λ‹λ‹¤. μ¤λ§νΈν ν™κ²½μ—μ„ μ¤‘μ”ν• μ΄ μΈ΅μ •κ°’μ€ λ¬Όμ ν’μ§μ— λ€ν• ν†µμ°°λ ¥μ„ μ κ³µν•μ—¬ μ‹λ¬Ό μ„±μ¥μ— μµμ ν™”λ μμ–‘ κ· ν•μ„ μ μ§€ν•λ” λ° λ„μ›€μ„ μ¤λ‹λ‹¤.

![tds.png](image/tds.png)

## μ μ–΄

### 1οΈβƒ£ LED λ° ν¬ μ μ–΄

ν”„λ΅μ νΈμ—λ” μ¤λ§νΈν λ‚΄λ¶€μ—μ„ μ΅°λ…κ³Ό ν¬ μ‘λ™μ„ μ μ–΄ν•  μ μλ” μ‹μ¤ν…μ΄ ν¬ν•¨λμ–΄ μμ–΄ μ‚¬μ©μκ°€ ν•„μ”μ— λ”°λΌ μ„¤μ •μ„ μ΅°μ •ν•  μ μμµλ‹λ‹¤. νλ΅λ„μ—μ„λ” μΌλ° LEDλ΅ ν‘μ‹λμ§€λ§, μ‹¤μ  μ΅°λ…μ€ μ‹λ¬Ό μ„±μ¥μ— μµμ ν™”λ μ¤ν™νΈλΌκ³Ό κ°•λ„λ¥Ό μ κ³µν•λ” μ¤λ§νΈν μ „μ© LEDμ…λ‹λ‹¤. μ‚¬μ©μλ” ν¬μ„ μ μ–΄ν•μ—¬ κ³µκΈ° νλ¦„μ„ μ΅°μ •ν•¨μΌλ΅μ¨ μµλ„λ¥Ό μ΅°μ ν•κ³ , κ±΄κ°•ν• μ‹λ¬Ό ν™κ²½μ„ μ μ§€ν•  μ μμµλ‹λ‹¤.

![led_fan.png](image/led_fan.png)

### 2οΈβƒ£ νν„° μ μ–΄

ν”„λ΅μ νΈμ—μ„λ” μ¤λ§νΈν ν™κ²½μ—μ„ νν„°λ¥Ό μ μ–΄ν•  μ μμµλ‹λ‹¤. νν„°λ¥Ό μ΅°μ •ν•μ—¬ μ¨λ„λ¥Ό μ΅°μ ν•κ³  λ”°λ»ν•κ³  μ•μ •μ μΈ ν™κ²½μ„ μ κ³µν•μ—¬, νΉν μ¶”μ΄ μ΅°κ±΄μ—μ„ μ‹λ¬Ό μ„±μ¥μ— λ„μ›€μ΄ λλ„λ΅ ν•©λ‹λ‹¤.

![heater.png](image/heater.png)

## μ„Όμ„+μ μ–΄

### 1οΈβƒ£ μμ„ λ¨λ‹ν„°λ§ λ° μ μ–΄

ν”„λ΅μ νΈλ” λ‹¨μΌ λ³΄λ“μ—μ„ μμ„ μ„Όμ„μ™€ λ¨ν„° λ“λΌμ΄λ²„λ¥Ό ν†µν•©ν•μ—¬ μ¤λ§νΈν λ‚΄μ—μ„ μμ„λ¥Ό λ™μ‹μ— λ¨λ‹ν„°λ§ν•κ³  μ μ–΄ν•  μ μλ„λ΅ ν•©λ‹λ‹¤. μ΄ κµ¬μ„±μ€ μ‹¤μ‹κ°„ μμ„ λ°μ΄ν„° μ „μ†΅κ³Ό λ¨ν„° μ μ–΄λ¥Ό λ‹¨μΌ λ³΄λ“μ—μ„ κ°€λ¥ν•κ² ν•μ—¬ κ΄€λ¦¬κ°€ κ°„νΈν•κ³  μ‹λ¬Ό κ±΄κ°•μ„ μ„ν•΄ ν•„μ”ν• μμ„ μ΅°μ •μ„ ν¨μ¨μ μΌλ΅ μν–‰ν•  μ μμµλ‹λ‹¤.

![water_level.png](image/water_level.png)

### π‘©β€π’» μ•Όμƒν™” EM λ‹΄λ‹Ήμ: κΉ€μλ―Ό